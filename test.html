<!DOCTYPE html>
<html>
    <head>

    </head>
    
    <body>

        <h1>Quiz Test File</h1>
        <p>JavaScript starts here:</p>

            <script>
                /*
                const inc    = x => x + 1;
                const double = x => x * 2;

                Function.prototype.then =  fun => x => {
                    console.log(this.result);
                    return fun(x);
                }
                
                Function.constructor.result = this(this.x);


                document.writeln(inc.then(double) (5));  

                const add = x => 5 + x;
                const mult = x => 10 * x;
                let add_ = 5;
                let factor_ = 10;


                ===================================================================
                const NullSafe = x => {
                    const isNullSafe = y => y && y.then;
                    const maywrap    = y => y.isNullSafe() ? y : y.isNullSafe(); // if y is not NullSafe yet, make it so
                    return {
                        then: fn => fn(x) // see(1)
                    }
                };

       
                NullSafe(1).then(console.log);                   // will call the log
                NullSafe(null).then(console.log);                // will not call the log
                NullSafe(2).then( x => null).then(console.log);  // will not call the log

                NullSafe(x_)
                .then( x => x*2)          // must auto-promote
                .then( x => NullSafe(x))  // must not auto-promote
                .then( x => y_ = x + 1)   // store value, check no double promotion
                .then( x => null)         // jump over rest
                .then( x => x.mustNotBeCalled) !== null && y_ === x_ * 2 + 1
                */
                
                //Implement a function named 'palindrome' that tells whether a given string
                //is the same when read left-to-right and right-to-left, ignoring upper/lowercase differences
                //and any characters outside 'a' to 'z'. For example
               

                //You must use the following helper functions (they are provided):
                const str2chars = str  => [...str];            // convert a string to an array of chars
                const isAlpha   = char => char.match(/[a-z]/); // char is in the alphabet

                function palindrome(i) {
                    t = str2chars(i.toLowerCase())
                    f = []
                    t.forEach((i) => {
                        if(isAlpha(i) !== null) f.push(i);});
                    l = f.length;
                    for(let i = l-1; i >= 0; i--) {
                        if(f[i] !== f[l-i-1]) return false;
                    }
                    return true
                }

                document.writeln("false | true | true | false | true | true | false | ---->")
                document.write(palindrome('ABBAA') + " | ")  // false
                
                document.write(palindrome('Abba')+ " | ")  // true

                document.write(palindrome('Abbbba')+ " | ")  // true

                document.write(palindrome('Abbaoz')+ " | ")  // false
                
                document.write(palindrome('A man, a plan, a canal: Panama!')+ " | ") // true

                document.writeln(palindrome("Amore, Roma!") && palindrome("Madam, I'm Adam!") && palindrome("Never odd or even.") && ! palindrome("Amore")+ " | ") // true

                document.writeln(palindrome("Amore, Roma!") && palindrome("Madam, I'm Adam!") && palindrome("Never odd or even.") && palindrome("Amore")+ " | ") // false
               



            </script>

    </body>
<html>